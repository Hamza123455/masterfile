
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Basic Video Editor</title>
</head>
<body>
    <h2>Simple Video Editor</h2>
    
    <input type="file" id="videoInput" accept="video/*">
    <video id="videoPlayer" controls width="500"></video>
    
    <br>
    
    <label>Start Time (seconds):</label>
    <input type="number" id="startTime" value="0">
    
    <label>End Time (seconds):</label>
    <input type="number" id="endTime" value="10">
    
    <button onclick="trimVideo()">Trim Video</button>
    
    <script src="https://cdn.jsdelivr.net/npm/@ffmpeg/ffmpeg@0.9.7/dist/ffmpeg.min.js"></script>
    <script>
        const videoInput = document.getElementById("videoInput");
        const videoPlayer = document.getElementById("videoPlayer");

        videoInput.addEventListener("change", function(event) {
            const file = event.target.files[0];
            if (file) {
                const url = URL.createObjectURL(file);
                videoPlayer.src = url;
            }
        });

        async function trimVideo() {
            const { createFFmpeg, fetchFile } = FFmpeg;
            const ffmpeg = createFFmpeg({ log: true });

            await ffmpeg.load();

            const file = videoInput.files[0];
            const startTime = document.getElementById("startTime").value;
            const endTime = document.getElementById("endTime").value;

            ffmpeg.FS("writeFile", "input.mp4", await fetchFile(file));
            await ffmpeg.run(
                "-i", "input.mp4",
                "-ss", startTime, "-to", endTime,
                "-c", "copy",
                "output.mp4"
            );

            const data = ffmpeg.FS("readFile", "output.mp4");
            const videoBlob = new Blob([data.buffer], { type: "video/mp4" });
            const url = URL.createObjectURL(videoBlob);

            const a = document.createElement("a");
            a.href = url;
            a.download = "trimmed_video.mp4";
            a.click();
        }
    </script>
</body>
</html>
